<UserControl
    x:Class="UtilityWpf.Demo.Buttons.ButtonsUserControl"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:utl="http://schemas.utility.com/utilitywpf"
    xmlns:i="http://schemas.microsoft.com/xaml/behaviors"
    xmlns:view1="http://schemas.utility.com/buttons"
    d:DesignHeight="450"
    d:DesignWidth="800"
    mc:Ignorable="d">

    <FrameworkElement.Resources>
        <utl:BooleanToOrientationConverter x:Key="BooleanToOrientationConverter" />
    </FrameworkElement.Resources>

    <Grid>

        <DockPanel VerticalAlignment="Center" HorizontalAlignment="Center">
            <!--<FrameworkElement.Resources>
                <utl:SharedResourceDictionary Source="/UtilityWpf.Demo.Common;component/Themes/Material.xaml"/>
            </FrameworkElement.Resources>-->
            <view1:ToggleButton x:Name="ToggleButton" 
                                Content="{x:Static Orientation.Horizontal}"
                                UnCheckedContent="{x:Static Orientation.Vertical}"
                                >
            </view1:ToggleButton>
            <view1:ButtonsControl x:Name="ButtonsControl"
                                  Orientation="{Binding ElementName=ToggleButton, Path=IsChecked, Converter={StaticResource BooleanToOrientationConverter}}"
                                  DisplayMemberPath="{utl:NameOf Type={x:Type utl:EnumMember}, Member=Value}">
                <i:Interaction.Behaviors>
                    <utl:EnumSelectorBehavior EnumType="{x:Type Visibility}"></utl:EnumSelectorBehavior>
                </i:Interaction.Behaviors>
            </view1:ButtonsControl>

            <Rectangle Height="40" Width="40" Fill="Violet" Visibility="{Binding ElementName=ButtonsControl, Path=Output}"></Rectangle>
        </DockPanel>
    </Grid>


</UserControl>